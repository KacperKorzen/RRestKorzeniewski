---
title: "Instruction for RRestKorzeniewski"
output:
  html_document: default
date: "2024-04-08"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, warning = FALSE)
```
# 1. Description
This library contain the algorithm for estimation of respiratory rate from the photoplethysmogram. It is compatible with several publicly available datasets.
Together, the algorithms and datasets provide tools to assist researchers in the
development and evaluation of their own RR algorithms for estimation of RR from
physiological signals.

# 2. How to Use package?

## 2.1. Install package
To install the package, run the following command. This function will install all necessary dependencies. You can find the source code on [GitHub](https://github.com/KacperKorzen/RRestKorzeniewski).
```{r install, echo = TRUE, message=FALSE, warning=FALSE}
devtools::install_github(repo = "KacperKorzen/RRestKorzeniewski")
```


## 2.2. Loadng data

### a. Load data by function
To load the data, you can utilize the $loadPPG()$ function, which enables you to load the data available at the [repository](http://peterhcharlton.github.io/RRest/datasets.html). The usage of the function is as follows. This function returns the PPG signal along with a plot of its waveform.

```{r load_f, echo = TRUE, message=FALSE, warning=FALSE}
signal = RRestKorzeniewski::loadPPG("rrest-syn069_data.csv", path = '/Users/korzeniewski/Desktop/PRO/project1/', first_sample = 500, last_sample = 10800)
```

### b. Load data from package
You can also load a file containing PPG and EKG signals directly from the package for testing purposes by using the cardiac_signal *command*. First column contains PPG signal and second contains ECG signal.
```{r load_p, echo = TRUE, message=FALSE, warning=FALSE, results='hide'}
RRestKorzeniewski::cardiac_signal
```

## 2.3. Estimate Respiration
To estimate respiration, you should use the $ppgToResp()$ function. This function returns an object 'Signal' containing information about the estimated respiratory signal along with its plot.

```{r estimation, echo = TRUE, message=FALSE, warning=FALSE}
respiration = RRestKorzeniewski::ppgToResp(signal, 500);
respiration$graph
```

## 2.4. Calulate Respiration Parameters
After obtaining the respiratory signal, you can use the $calculateRespFeatures()$ function to calculate parameters of the respiratory signal, such as:

- mRR,
- stdRR,
- RMSSD.

The function call is presneted bellow.
```{r RRV, echo = TRUE, message=FALSE, warning=FALSE}
respiration2 = RRestKorzeniewski::calculateRespFeatures(resp = respiration)
```
The results of this function are presented presented below in table:

| RRV Parameters | Value |
|:-:|:-:|
| mRR | `r respiration2$mRR` | 
| stdRR |`r respiration2$stdRR` | 
| RMSSD |`r respiration2$RMSSD` | 
